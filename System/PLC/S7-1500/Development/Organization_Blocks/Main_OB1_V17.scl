ORGANIZATION_BLOCK "OB1"
TITLE = 'Main Program OB1'
AUTHOR : 'TUSAS'
FAMILY : 'Main'
NAME : 'Main'
VERSION : 3.0
// =============================================================================
// MAIN ORGANIZATION BLOCK - V17 MODULAR ARCHITECTURE  
// TIA Portal S7-1500 Structured Control Language (SCL)
// Description: System coordination with modular Safety/Auto/Manual architecture
// =============================================================================

VAR_TEMP
    // Temporary variables for OB1 (minimum 20 bytes requirement)
    SystemStatus : DInt;        // 4 bytes
    CycleTime : Time;          // 4 bytes  
    Reserved1 : DInt;          // 4 bytes
    Reserved2 : DInt;          // 4 bytes
    Reserved3 : DInt;          // 4 bytes
END_VAR

BEGIN

// =============================================================================
// MAIN SYSTEM COORDINATION (V2 MODULAR ARCHITECTURE)
// =============================================================================

// Call main system coordinator V2 with modular safety/auto/manual control
"DB_System_Coordinator_Instance"(
    Enable := "DB_HGU_Execution_V17".SYSTEM_ENABLE,  // Use SYSTEM_ENABLE for auto/manual mode
    SystemCommand := 1,
    System_Total_Flow_Setpoint := "DB_HGU_Execution_V17".SYSTEM_FLOW_SETPOINT,
    System_Total_Pressure_Setpoint := "DB_HGU_Execution_V17".SYSTEM_PRESSURE_SETPOINT
);

END_ORGANIZATION_BLOCK